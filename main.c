#include "lab.h"  // Подключаем заголовочный файл с объявлениями функций
#include <stdio.h>

int main() {
    int choice;  // Переменная для выбора пользователя

    do {
        // Выводим меню с понятными пунктами
        printf("\nВыберите лабораторную работу:\n");
        printf("1. Вычислить P = (A+B^2)/(C-A)\n");
        printf("2. Вычислить сумму первых N элементов ряда: 3/1-4/4+5/7-6/10...вычисления проводить пока модуль очередного элемента больше E\n");
        printf("3. В потоке символов сосчитать слова, начинающиеся и заканчивающиеся на одну и ту же букву\n");
        printf("4. В символьной строке удалить слово, стоящее после запятой\n");
        printf("5. Выход\n");  // Пункт для выхода
        printf("> ");
        
        // Считываем выбор пользователя
        if (scanf("%d", &choice) != 1) { 
            // Очистка буфера при некорректном вводе (например, буквы)
            while (getchar() != '\n'); 
            continue;
        }
        
        // Очищаем буфер ввода после scanf
        while (getchar() != '\n'); 

        // Обработка выбора
        switch (choice) {
            case 1:
                laba1();  // Вызов функции для лабораторной 1
                break;
            case 2:
                laba2();  // Вызов функции для лабораторной 2
                break;
            case 3:
                printf("Введите текст (для завершения ввода нажмите Ctrl+D/Ctrl+Z):\n");
                laba3();  // Вызов функции для лабораторной 3
                break;
            case 4:
                printf("Введите строку:\n");
                laba4();  // Вызов функции для лабораторной 4
                break;
            case 5:
                printf("Выход из программы...\n");
                break;
            default:
                printf("Ошибка! Выберите пункт 1-5.\n");  // Сообщение об ошибке
        }
    } while (choice != 5);  // Выход при выборе пункта 5

    return 0;
}